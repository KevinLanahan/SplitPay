<!DOCTYPE html>
<html>
  <head>
    <title>Reset Password - SplitPay</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Manrope:wght@400;500;700;800&family=Noto+Sans:wght@400;500;700;900"
    />
  </head>

  <body class="bg-[#f8fcfa]" style='font-family: Manrope, "Noto Sans", sans-serif;'>
    <div class="flex min-h-screen flex-col">
      <!-- Header -->
      <header class="flex items-center justify-between border-b border-[#e6f4ef] px-10 py-3">
        <div class="flex items-center gap-4 text-[#0c1c17]">
          <div class="size-4">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M24 4H42V17.3333V30.6667H24V44H6V30.6667V17.3333H24V4Z" fill="currentColor"></path>
            </svg>
          </div>
          <h2 class="text-lg font-bold tracking-[-0.015em]">SplitPay</h2>
        </div>
      </header>

      <!-- Main -->
      <main class="flex flex-1 items-center justify-center px-4">
        <div class="w-full max-w-[512px] bg-white rounded-xl shadow-md p-8">
          <h2 class="text-[#0c1c17] text-[28px] font-bold text-center mb-2">Create a new password</h2>
          <p class="text-center text-gray-600 mb-6">
            Enter and confirm a new password for your account.
          </p>

          {% if error %}
          <div class="mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-red-700 text-sm">
            {{ error }}
          </div>
          {% endif %}

          <form method="POST" class="space-y-4">
            <!-- New password -->
            <label class="block">
              <p class="text-[#0c1c17] font-medium mb-2">New password</p>
              <div class="relative">
                <input
                  id="pw"
                  type="password"
                  name="password"
                  minlength="8"
                  required
                  placeholder="Enter a new password"
                  class="form-input w-full rounded-lg bg-[#e6f4ef] h-14 px-4 placeholder:text-[#46a080] border-none focus:ring-0 pr-12"
                />
                <button type="button" id="togglePw" class="absolute inset-y-0 right-3 my-auto text-sm text-[#46a080]">
                  Show
                </button>
              </div>
            </label>

            <!-- Confirm password -->
            <label class="block">
              <p class="text-[#0c1c17] font-medium mb-2">Confirm password</p>
              <div class="relative">
                <input
                  id="pw2"
                  type="password"
                  name="password_confirm"
                  minlength="8"
                  required
                  placeholder="Re-enter your new password"
                  class="form-input w-full rounded-lg bg-[#e6f4ef] h-14 px-4 placeholder:text-[#46a080] border-none focus:ring-0 pr-12"
                />
                <button type="button" id="togglePw2" class="absolute inset-y-0 right-3 my-auto text-sm text-[#46a080]">
                  Show
                </button>
              </div>
            </label>

            <button
              type="submit"
              class="w-full h-12 bg-[#019863] text-[#f8fcfa] font-bold rounded-lg hover:bg-[#017f53] transition"
            >
              Reset password
            </button>
          </form>

          <p class="text-[#46a080] text-sm text-center mt-4">
            <a href="/login" class="underline">Back to Sign In</a>
          </p>
        </div>
      </main>
    </div>

    <script>
      const pw = document.getElementById('pw');
      const pw2 = document.getElementById('pw2');
      const togglePw = document.getElementById('togglePw');
      const togglePw2 = document.getElementById('togglePw2');

      function toggle(input, btn) {
        if (input.type === 'password') {
          input.type = 'text';
          btn.textContent = 'Hide';
        } else {
          input.type = 'password';
          btn.textContent = 'Show';
        }
      }

      togglePw?.addEventListener('click', () => toggle(pw, togglePw));
      togglePw2?.addEventListener('click', () => toggle(pw2, togglePw2));
    </script>
  </body>
</html>



